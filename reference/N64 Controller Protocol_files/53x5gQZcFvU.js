/*1369716877,178195503*/

if (self.CavalryLogger) { CavalryLogger.start_js(["PdbT+"]); }

__d("sprintf",[],function(a,b,c,d,e,f){function g(h,i){i=Array.prototype.slice.call(arguments,1);var j=0;return h.replace(/%s/g,function(k){return i[j++];});}e.exports=g;});
__d("Log",["sprintf"],function(a,b,c,d,e,f){var g=b('sprintf'),h={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function i(k,l){var m=Array.prototype.slice.call(arguments,2),n=g.apply(null,m),o=window.console;if(o&&j.level>=l)o[k in o?k:'log'](n);}var j={level:-1,Level:h,debug:i.bind(null,'debug',h.DEBUG),info:i.bind(null,'info',h.INFO),warn:i.bind(null,'warn',h.WARNING),error:i.bind(null,'error',h.ERROR)};e.exports=j;});
__d("resolveWindow",[],function(a,b,c,d,e,f){function g(h){var i=window,j=h.split('.');try{for(var l=0;l<j.length;l++){var m=j[l],n=/^frames\[['"]?([a-zA-Z0-9\-_]+)['"]?\]$/.exec(m);if(n){i=i.frames[n[1]];}else if(m==='opener'||m==='parent'||m==='top'){i=i[m];}else return null;}}catch(k){return null;}return i;}e.exports=g;});
__d("XD",["function-extensions","Arbiter","DOM","DOMDimensions","Log","URI","copyProperties","isInIframe","resolveWindow"],function(a,b,c,d,e,f){b('function-extensions');var g=b('Arbiter'),h=b('DOM'),i=b('DOMDimensions'),j=b('Log'),k=b('URI'),l=b('copyProperties'),m=b('isInIframe'),n=b('resolveWindow'),o='fb_xdm_frame_'+location.protocol.replace(':',''),p={_callbacks:[],_opts:{autoResize:false,allowShrink:true,channelUrl:null,hideOverflow:false,resizeTimeout:1000,resizeWidth:false,expectResizeAck:false,resizeAckTimeout:6000},_lastResizeAckId:0,_resizeCount:0,_resizeTimestamp:0,_shrinker:null,init:function(r){this._opts=l(l({},this._opts),r);if(this._opts.autoResize)this._startResizeMonitor();g.subscribe('Connect.Unsafe.resize.ack',function(s,t){if(!t.id)t.id=this._resizeCount;if(t.id>this._lastResizeAckId)this._lastResizeAckId=t.id;}.bind(this));},send:function(r,s){s=s||this._opts.channelUrl;if(!s)return;var t={},u=new k(s);l(t,r);l(t,k.explodeQuery(u.getFragment()));var v=k(t.origin).getOrigin(),w=n(t.relation.replace(/^parent\./,'')),x=50,y=function(){var z=w.frames[o];try{z.proxyMessage(k.implodeQuery(t),v);}catch(aa){if(--x){setTimeout(y,100);}else j.warn('No such frame "'+o+'" to proxyMessage to');}};y();},_computeSize:function(){var r=i.getDocumentDimensions(),s=0;if(this._opts.resizeWidth){var t=document.body;if(t.clientWidth<t.scrollWidth){s=r.width;}else{var u=t.childNodes;for(var v=0;v<u.length;v++){var w=u[v],x=w.offsetLeft+w.offsetWidth;if(x>s)s=x;}}s=Math.max(s,p.forced_min_width);}r.width=s;if(this._opts.allowShrink){if(!this._shrinker)this._shrinker=h.create('div');h.appendContent(document.body,this._shrinker);r.height=Math.max(this._shrinker.offsetTop,0);}return r;},_startResizeMonitor:function(){var r,s=document.documentElement;if(this._opts.hideOverflow){s.style.overflow='hidden';document.body.style.overflow='hidden';}var t=(function(){var u=this._computeSize(),v=Date.now(),w=this._lastResizeAckId<this._resizeCount&&(v-this._resizeTimestamp)>this._opts.resizeAckTimeout;if(!r||(this._opts.expectResizeAck&&w)||(this._opts.allowShrink&&r.width!=u.width)||(!this._opts.allowShrink&&r.width<u.width)||(this._opts.allowShrink&&r.height!=u.height)||(!this._opts.allowShrink&&r.height<u.height)){r=u;this._resizeCount++;this._resizeTimestamp=v;var x={type:'resize',height:u.height,ackData:{id:this._resizeCount}};if(u.width&&u.width!=0)x.width=u.width;try{if(k(document.referrer).isFacebookURI()&&m()&&window.name&&window.parent.location&&window.parent.location.toString&&k(window.parent.location).isFacebookURI()){var z=window.parent.document.getElementsByTagName('iframe');for(var aa=0;aa<z.length;aa=aa+1)if(z[aa].name==window.name){if(this._opts.resizeWidth)z[aa].style.width=x.width+'px';z[aa].style.height=x.height+'px';}}this.send(x);}catch(y){this.send(x);}}}).bind(this);t();setInterval(t,this._opts.resizeTimeout);}},q=l({},p);e.exports.UnverifiedXD=q;e.exports.XD=p;a.UnverifiedXD=q;a.XD=p;});
__d("legacy:connect-xd",["XD"],function(a,b,c,d){a.UnverifiedXD=b('XD').UnverifiedXD;a.XD=b('XD').XD;},3);
__d("wrapFunction",[],function(a,b,c,d,e,f){var g={};function h(i,j,k){j=j||'default';return function(){var l=j in g?g[j](i,k):i;return l.apply(this,arguments);};}h.setWrapper=function(i,j){j=j||'default';g[j]=i;};e.exports=h;});
__d("DOMEventListener",["wrapFunction"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h,i;if(window.addEventListener){h=function(k,l,m){m.wrapper=g(m,'entry',k+':'+l);k.addEventListener(l,m.wrapper,false);};i=function(k,l,m){k.removeEventListener(l,m.wrapper,false);};}else if(window.attachEvent){h=function(k,l,m){m.wrapper=g(m,'entry',k+':'+l);k.attachEvent('on'+l,m.wrapper);};i=function(k,l,m){k.detachEvent('on'+l,m.wrapper);};}var j={add:function(k,l,m){h(k,l,m);return {remove:function(){i(k,l,m);k=null;}};},remove:i};e.exports=j;});
__d("PlatformDialog",["Arbiter","DOMEventListener"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMEventListener'),i='platform/dialog/response',j={RESPONSE:i,cancel:function(k,l){h.add(k,'click',function(){window.location.assign(l);});},cancelAsync:function(k,l,m){k.subscribe('cancel',function(){g.inform(i,{identifier:l,response:m});});}};e.exports=j;});
__d("PopupWindow",["DOMDimensions","DOMQuery","Layer","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMDimensions'),h=b('DOMQuery'),i=b('Layer'),j=b('copyProperties'),k={_opts:{allowShrink:true,strategy:'vector',timeout:100,widthElement:null},init:function(l){j(k._opts,l);setInterval(k._resizeCheck,k._opts.timeout);},_resizeCheck:function(){var l=g.getViewportDimensions(),m=k._getDocumentSize(),n=i.getTopmostLayer();if(n){var o=n.getRoot().firstChild,p=g.getElementDimensions(o);p.height+=g.measureElementBox(o,'height',true,true,true);p.width+=g.measureElementBox(o,'width',true,true,true);m.height=Math.max(m.height,p.height);m.width=Math.max(m.width,p.width);}var q=m.height-l.height,r=m.width-l.width;if(r<0&&!k._opts.widthElement)r=0;r=r>1?r:0;if(!k._opts.allowShrink&&q<0)q=0;if(q||r)try{window.console&&window.console.firebug;window.resizeBy(r,q);if(r)window.moveBy(r/-2,0);}catch(s){}},_getDocumentSize:function(){var l=g.getDocumentDimensions();if(k._opts.strategy==='offsetHeight')l.height=document.body.offsetHeight;if(k._opts.widthElement){var m=h.scry(document.body,k._opts.widthElement)[0];if(m)l.width=g.getElementDimensions(m).width;}var n=a.Dialog;if(n&&n.max_bottom&&n.max_bottom>l.height)l.height=n.max_bottom;return l;},open:function(l,m,n){var o=typeof window.screenX!='undefined'?window.screenX:window.screenLeft,p=typeof window.screenY!='undefined'?window.screenY:window.screenTop,q=typeof window.outerWidth!='undefined'?window.outerWidth:document.body.clientWidth,r=typeof window.outerHeight!='undefined'?window.outerHeight:(document.body.clientHeight-22),s=parseInt(o+((q-n)/2),10),t=parseInt(p+((r-m)/2.5),10),u=('width='+n+',height='+m+',left='+s+',top='+t);return window.open(l,'_blank',u);}};e.exports=k;});
__d("PlatformDialogClient",["Arbiter","AsyncDialog","AsyncRequest","DOMEventListener","guid","PlatformDialog","PopupWindow","QueryString","URI","UserAgent"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('AsyncDialog'),i=b('AsyncRequest'),j=b('DOMEventListener'),k=b('guid'),l=b('PlatformDialog'),m=b('PopupWindow'),n=b('QueryString'),o=b('URI'),p=b('UserAgent'),q=575,r='FB_DIALOG_RESPONSE';h.getLoadingDialog().setWidth(q);j.add(window,'message',function(event){if((/\.facebook\.com$/).test(event.origin)&&new RegExp('^'+r+':').test(event.data))g.inform(l.RESPONSE,JSON.parse(event.data.substr(r.length+1)));});var s={async:function(t,u,v){v=v||function(){};var w=u.state,x=k();u.state=x;u.redirect_uri=new o('/dialog/return/arbiter').setSubdomain('www').setFragment(n.encode({origin:u.redirect_uri})).getQualifiedURI().toString();u.display='async';var y=g.subscribe(l.RESPONSE,function(event,z){if(z.state==x){g.unsubscribe(y);z.state=w;v(z);}},g.SUBSCRIBE_NEW);h.send(new i('/dialog/'+t).setData(u).setMethod('GET').setReadOnly(true));},popup:function(t,u,v,w){v.app_id=u;v.redirect_uri=new o('/dialog/return/arbiter').setSecure(o.getRequestURI().isSecure()).setSubdomain('www').setFragment(n.encode({origin:v.redirect_uri})).addQueryData(w||{}).addQueryData({relation:'opener',close:true}).toString();v.display=p.mobile()?'touch':'popup';m.open(new o('/dialog/'+t).addQueryData(v).toString(),210,q);}};e.exports=s;});
__d("TextExpose",["Arbiter","CSS","DOMEventListener","DOMEvent","$"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOMEventListener'),j=b('DOMEvent'),k=b('$'),l={toggle:function(m,n){i.add(m,'click',function(o){new j(o).kill();h.toggleClass(k(n),'text_exposed');g.inform('reflow');},false);}};e.exports=l;});
__d("ArbiterFrame",[],function(a,b,c,d,e,f){var g={inform:function(h,i,j){var k=parent.frames,l=k.length,m;i.crossFrame=true;for(var n=0;n<l;n++){m=k[n];try{if(!m||m==window)continue;if(m.require){m.require('Arbiter').inform(h,i,j);}else if(m.AsyncLoader)m.AsyncLoader.wakeUp(h,i,j);}catch(o){}}}};e.exports=g;});
__d("TimeSpentLogger",["Arbiter","Banzai","CSS","ClickRefUtils","DOMEventListener","ScriptPath","UserActivity","collectDataAttributes","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Banzai'),i=b('CSS'),j=b('ClickRefUtils'),k=b('DOMEventListener'),l=b('ScriptPath'),m=b('UserActivity'),n=b('collectDataAttributes'),o=b('copyProperties'),p=[m.getLastInformTime(),0],q=m.getLastInformTime(),r={tos_seq:0,tos_cumulative:0,transport_cause:null,buenopath:null,page_token:null,elements:0,uact_tos:null,client_time:null},s=100,t=100,u=10*1000,v=3*1000,w=1,x=2,y=4,z=8,aa={};m.subscribe(function(ia,ja){var ka=p.length-1;q=ja.last_inform;if(ja.idleness<v){p[ka]+=ja.idleness;r.tos_cumulative+=ja.idleness;}else{if(ka>s)fa('array_limit_reached');p.push(ja.idleness,0);}});function ba(ia){var ja=0;if(document.getElementById('boulder_fixed_header'))ja=ja|w;if(i.hasClass(document.body,'timelineLayout')){ja=ja|y;var ka=document.getElementById('pagelet_main_column_personal');if(ka&&ka.getAttribute('data-referrer')==='pagelet_main_column_personal_timeline')ja=ja|x;if(i.hasClass(document.body,'pagesTimelineLayout'))ja=ja|z;}return ja;}function ca(ia){var ja=ba(),ka=l.getScriptPath(),la=l.getCategoryToken();r.uact_tos=p;if(ka){r.buenopath=ka.substring(0,t);}else r.buenopath='';if(la){r.page_token=la;}else r.page_token='';r.elements=ja;r.transport_cause=ia;r.client_time=Date.now();}function da(){r.tos_seq+=1;p=[q,0];}var ea={store:true,delay:3000,retry:true};function fa(ia){ca(ia);if(h.isEnabled('time_spent')){g.inform('timespent/tosdataposted',o({},r));h.post('time_spent',o({},r),ea);}da();}function ga(){fa('heartbeat');}function ha(){fa('before_unload');}if(window.top==window.self){k.add(window,'beforeunload',ha);setInterval(function(){if(Date.now()-m.getLastInformTime()>(u-100)&&(p.length>2||p[p.length-1]>0))ga();},u);}g.subscribe("UserAction/new",function(ia,ja){if(j.should_report(ja.node,ja.mode)){var ka=n(ja.node,['gt']),la={iref:j.get_intern_ref(ja.node),gt_ref:ka.ref,nav_section:ka.nav_section};ca('useraction');o(la,r);ja.ua.add_data(la);g.inform('timespent/tosdataposted',o({},r));da();}});e.exports=aa;});
__d("Plugin",["Arbiter","ArbiterFrame"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('ArbiterFrame'),i={CONNECT:'platform/plugins/connect',DISCONNECT:'platform/plugins/disconnect',ERROR:'platform/plugins/error',RELOAD:'platform/plugins/reload',connect:function(j,k){var l={identifier:j,href:j,story_fbid:k};g.inform(i.CONNECT,l);h.inform(i.CONNECT,l);},disconnect:function(j,k){var l={identifier:j,href:j,story_fbid:k};g.inform(i.DISCONNECT,l);h.inform(i.DISCONNECT,l);},error:function(j,k){g.inform(i.ERROR,{action:j,content:k});},reload:function(j){g.inform(i.RELOAD,j||'');h.inform(i.RELOAD,{});}};e.exports=i;});
__d("PluginMessage",["DOMEventListener"],function(a,b,c,d,e,f){var g=b('DOMEventListener'),h={listen:function(){g.add(window,'message',function(event){if((/\.facebook\.com$/).test(event.origin)&&/^FB_POPUP:/.test(event.data)){var i=JSON.parse(event.data.substring(9));if('reload' in i&&/^https?:/.test(i.reload))document.location.replace(i.reload);}});}};e.exports=h;});
__d("PluginOptin",["DOMEvent","DOMEventListener","PluginMessage","PopupWindow","URI","UserAgent","copyProperties"],function(a,b,c,d,e,f){var g=b('DOMEvent'),h=b('DOMEventListener'),i=b('PluginMessage'),j=b('PopupWindow'),k=b('URI'),l=b('UserAgent'),m=b('copyProperties');function n(o){m(this,{return_params:k.getRequestURI().getQueryData(),login_params:{},optin_params:{},plugin:o});this.addReturnParams({ret:'optin'});delete this.return_params.hash;}m(n.prototype,{addReturnParams:function(o){m(this.return_params,o);return this;},addLoginParams:function(o){m(this.login_params,o);return this;},addOptinParams:function(o){m(this.optin_params,o);return this;},start:function(){var o=new k('/dialog/plugin.optin').addQueryData(this.optin_params).addQueryData({app_id:127760087237610,secure:k.getRequestURI().isSecure(),social_plugin:this.plugin,return_params:JSON.stringify(this.return_params),login_params:JSON.stringify(this.login_params)});if(l.mobile()){o.setSubdomain('m');}else o.addQueryData({display:'popup'});this.popup=j.open(o.toString(),420,450);i.listen();return this;}});n.starter=function(o,p,q,r){var s=new n(o);s.addReturnParams(p||{});s.addLoginParams(q||{});s.addOptinParams(r||{});return s.start.bind(s);};n.listen=function(o,p,q,r,s){h.add(o,'click',function(t){new g(t).kill();n.starter(p,q,r,s)();});};e.exports=n;});
__d("PluginConnectButton",["Arbiter","CSS","DOM","DOMDimensions","DOMEvent","DOMEventListener","DOMPosition","Form","Plugin","PluginOptin","Style","copyProperties","csx","cx"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOM'),j=b('DOMDimensions'),k=b('DOMEvent'),l=b('DOMEventListener'),m=b('DOMPosition'),n=b('Form'),o=b('Plugin'),p=b('PluginOptin'),q=b('Style'),r=b('copyProperties'),s=b('csx'),t=b('cx'),u=g.SUBSCRIBE_NEW,v=g.subscribe,w=function(y,z){return l.add(y,'click',z);};function x(y){this.config=y;var z=i.find(y.form,'.pluginConnectButton');this.buttons=z;this.node_connected=i.find(z,'.pluginConnectButtonConnected');this.node_disconnected=i.find(z,'.pluginConnectButtonDisconnected');var aa=function(ca){new k(ca).kill();this.submit();}.bind(this);w(this.node_disconnected,aa);w(i.find(z,'.pluginButtonX button'),aa);var ba=this.update.bind(this);v(o.CONNECT,ba,u);v(o.DISCONNECT,ba,u);v(o.ERROR,this.error.bind(this),u);v('Connect.Unsafe.xd/reposition',this.flip.bind(this));if(y.autosubmit)this.submit();}r(x.prototype,{update:function(y,event){var z=this.config;if(event.identifier!==z.identifier)return;var aa=y===o.CONNECT?true:false,ba="/plugins/"+z.plugin+"/";ba+=!aa?"connect":"disconnect";h[aa?'show':'hide'](this.node_connected);h[aa?'hide':'show'](this.node_disconnected);z.connected=aa;z.form.setAttribute('action',ba);z.form.setAttribute('ajaxify',ba);},error:function(event,y){if(y.action in {connect:1,disconnect:1})i.setContent(this.buttons,y.content);},submit:function(){if(!this.config.canpersonalize)return this.login();n.bootstrap(this.config.form);this.fireStateToggle();},fireStateToggle:function(){var y=this.config;if(y.connected){o.disconnect(y.identifier);}else o.connect(y.identifier);},login:function(){var y=this.config.plugin;new p(y).addReturnParams({act:'connect'}).start();},flip:function(y,z){var aa=i.find(document.body,'.pluginConnectButtonLayoutRoot');h.toggleClass(aa,"_4-nd");var ba=i.find(document.body,"._4xn8"),ca=i.scry(this.config.form,'.pluginConnectButtonConnected .pluginButtonIcon'),da=q.get(ca[0],'display')!=='none'?ca[0]:ca[1],ea=(z.type==='restore')?6:m.getElementPosition(da).x+j.getElementDimensions(da).width/2-6;q.set(ba,'left',ea+'px');}});e.exports=x;});
__d("UnverifiedXD",["XD","XDUnverifiedChannel"],function(a,b,c,d,e,f){var g=b('XD').UnverifiedXD,h=c('XDUnverifiedChannel').channel;g.init({channelUrl:h});e.exports=g;});
__d("PluginConnectButtonEvent",["Arbiter","Plugin","UnverifiedXD"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Plugin'),i=b('UnverifiedXD'),j={listen:function(k){g.subscribe([h.CONNECT,h.DISCONNECT],function(l,event){if(event.identifier!==k)return;if(typeof event.story_fbid!=='undefined'&&!event.crossFrame)i.send({type:l===h.CONNECT?'edgeCreated':'edgeRemoved'});},g.SUBSCRIBE_NEW);}};e.exports=j;});
__d("PluginConnection",["Arbiter","CSS","Plugin","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('Plugin'),j=b('copyProperties'),k=function(){};j(k.prototype,{init:function(l,m,n,event){event=event||i.CONNECT;this.identifier=l;this.element=m;this.css=n;g.subscribe([i.CONNECT,i.DISCONNECT],function(o,p){if(l===p.href)h[o===event?'addClass':'removeClass'](m,n);return true;});return this;},connected:function(){return h.hasClass(this.element,this.css);},connect:function(){return g.inform(i.CONNECT,{href:this.identifier},g.BEHAVIOR_STATE);},disconnect:function(){return g.inform(i.DISCONNECT,{href:this.identifier},g.BEHAVIOR_STATE);},toggle:function(){return this.connected()?this.disconnect():this.connect();}});k.init=function(l){for(var m,n=0;n<l.length;n++){m=new k();m.init.apply(m,l[n]);}};e.exports=k;});
__d("PluginLinkshim",["LinkshimAsyncLink"],function(a,b,c,d,e,f){var g=b('LinkshimAsyncLink'),h={globalizeLegacySymbol:function(){a.LinkshimAsyncLink=g;}};e.exports=h;});
__d("PluginLikebox",["AsyncDOM","AsyncRequest","CSS","DOMEvent","DOMEventListener","DOMQuery","PluginLinkshim","copyProperties"],function(a,b,c,d,e,f){var g=b('AsyncDOM'),h=b('AsyncRequest'),i=b('CSS'),j=b('DOMEvent'),k=b('DOMEventListener'),l=b('DOMQuery'),m=b('PluginLinkshim'),n=b('copyProperties');function o(p,q){this.stream_id=p;this.force_wall=q;this.load();m.globalizeLegacySymbol();k.add(l.find(document.body,'.pluginLikeboxStream'),'click',function(r){var s=new j(r),t=s.target.parentNode;if(i.hasClass(t,'text_exposed_link')){s.kill();i.addClass(l.find(t,'^.text_exposed_root'),'text_exposed');}});}n(o.prototype,{load:function(p){new h().setMethod('GET').setURI('/ajax/connect/connect_widget.php').setData({id:this.stream_id,uniqid:p?'load_more_stories':'pluginLikeboxStream',force_wall:this.force_wall,nobootload:1,max_timestamp:p}).setReadOnly(true).setErrorHandler(function(){}).setHandler(this.handleResponse.bind(this)).send();},handleResponse:function(p){if(p.inlinecss){var q=document.createElement('style');q.setAttribute("type","text/css");document.getElementsByTagName('head')[0].appendChild(q);if(q.styleSheet){q.styleSheet.cssText=p.inlinecss;}else q.appendChild(document.createTextNode(p.inlinecss));}g.invoke(p.domops);var r=l.scry(document.body,"#load_more_stories a");if(!r.length)return;r=r[0];var s=this;k.add(r,'click',function(t){new j(t).kill();s.load(parseInt(r.getAttribute('data-timestamp'),10));var u=l.find(r.parentNode,'.uiMorePagerLoader');i.addClass(u,'uiMorePagerPrimary');i.removeClass(u,'uiMorePagerLoader');i.hide(r);});}});e.exports=o;});
__d("PluginReturn",["Arbiter","Log","PlatformDialog","Plugin","URI","invariant"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('Log'),i=b('PlatformDialog'),j=b('Plugin'),k=b('URI'),l=b('invariant');g.subscribe(i.RESPONSE,function(event,n){if(n.error_code){h.debug('Plugin Return Error (%s): %s',n.error_code,n.error_message||n.error_description);return;}j.reload(n.plugin_reload);});var m={auto:function(){g.subscribe(j.RELOAD,function(event,n){m.reload(n);});},autoFormSubmit:function(n){g.subscribe(j.RELOAD,function(event,o){var p=new k(n.action);p.addQueryData(new k(o).getQueryData());n.action=p.toString();n.submit();});},reload:function(n){var o=k.getRequestURI().removeQueryData('ret').removeQueryData('act').removeQueryData('hash');if(n){var p=new k(n);l(p.getPath().match(/^\/plugins\//));o.setPath(p.getPath()).addQueryData(p.getQueryData());}window.location.replace(o.toString());}};e.exports=m;});
__d("PluginLoginButton",["Arbiter","DOMEvent","DOMEventListener","DOMQuery","PlatformDialogClient","Plugin","PluginReturn"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('DOMEvent'),i=b('DOMEventListener'),j=b('DOMQuery'),k=b('PlatformDialogClient'),l=b('Plugin'),m=b('PluginReturn'),n={redirect:function(o){window.parent.location.replace(o);},submit:function(o){o.submit();},registration:function(o,p){i.add(o,'click',n.redirect.bind(null,p));},connect:function(o){i.add(o,'click',n.submit.bind(null,j.find(o,'^form')));},logout:function(o){i.add(o,'click',n.submit.bind(null,j.find(o,'^form')));},oauth:function(o,p,q,r){g.subscribe(l.RELOAD,function(event,s){m.reload('/plugins/login_button'+(s.crossFrame?'':'?ret=perms'));});i.add(o,'click',function(event){new h(event).kill();var s={scope:q,response_type:'none',redirect_uri:r};k.popup('oauth',p,s);});}};e.exports=n;});
__d("PluginOverflowItems",["CSS","Style","createArrayFrom"],function(a,b,c,d,e,f){var g=b('CSS'),h=b('Style'),i=b('createArrayFrom');function j(k,l){var m=k.parentNode.offsetHeight;i(k.parentNode.childNodes).forEach(function(o){if(o!==k)m-=o.offsetHeight;});k.style.height=m+'px';var n=0;i(k.getElementsByClassName(l)).forEach(function(o){g.show(o);n+=o.offsetHeight+parseInt(h.get(o,'margin-top'),10)+parseInt(h.get(o,'margin-bottom'),10);if(n>m)g.hide(o);});}j.adjust=function(k,l){new j(k,l);};e.exports=j;});
__d("PluginResize",["Log","UnverifiedXD","copyProperties"],function(a,b,c,d,e,f){var g=b('Log'),h=b('UnverifiedXD'),i=b('copyProperties');function j(m){m=m||document.body;return m.offsetWidth+m.offsetLeft;}function k(m){m=m||document.body;return m.offsetHeight+m.offsetTop;}function l(m,n,event,o){this.calcWidth=m||j;this.calcHeight=n||k;this.width=undefined;this.height=undefined;this.reposition=!!o;this.event=event||'resize';}i(l.prototype,{resize:function(){var m=this.calcWidth(),n=this.calcHeight();if(m!==this.width||n!==this.height){g.debug('Resizing Plugin: (%s, %s, %s, %s)',m,n,this.event,this.reposition);this.width=m;this.height=n;h.send({type:this.event,width:m,height:n,reposition:this.reposition});}return this;},auto:function(m){setInterval(this.resize.bind(this),m||250);return this;}});l.auto=function(m,event,n){return new l(j.bind(null,m),k.bind(null,m),event).resize().auto(n);};l.autoHeight=function(m,n,event,o){return new l(function(){return m;},k.bind(null,n),event).resize().auto(o);};e.exports=l;});
__d("PluginSend",["Arbiter","CSS","DOMDimensions","DOMPosition","DOMQuery","PluginOptin","UnverifiedXD","copyProperties"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('CSS'),i=b('DOMDimensions'),j=b('DOMPosition'),k=b('DOMQuery'),l=b('PluginOptin'),m=b('UnverifiedXD'),n=b('copyProperties'),o='platform/socialplugins/dialog',p='platform/socialplugins/send/sent',q='platform/socialplugins/send/cancel',r=false,s=false,t={type:'presentEdgeCommentDialog',controllerID:'',widget_type:'send',nodeURL:'',width:400,height:300,query:{}},u={close:'dismissEdgeCommentDialog',show:'showEdgeCommentDialog',hide:'hideEdgeCommentDialog'},v={element:null,href:'',canpersonalize:false,plugin:'send'},w,x,y='';function z(){new l(v.plugin).addReturnParams({act:"send"}).start();}function aa(da){if(!v.canpersonalize)return z();if(typeof da!=='string')if(!r){da='open';}else if(s){da='hide';}else da='show';switch(da){case 'open':g.inform(o,{controllerID:y,event:da});r=s=true;var ea=i.getElementDimensions(x),fa=j.getElementPosition(x);t.anchorGeometry={x:ea.width,y:ea.height};t.anchorPosition={x:fa.x,y:fa.y};var ga=ba();t.query.anchorTargetX=ga.x;t.query.anchorTargetY=ga.y;m.send(t);break;case 'close':g.inform(o,{controllerID:y,event:da});r=s=false;break;case 'show':s=true;break;default:s=false;break;}h[s?'show':'hide'](w);h[s?'hide':'show'](x);if(da!=='open')m.send({type:u[da]});}function ba(){var da=k.find(x,'.pluginButtonIcon'),ea=j.getElementPosition(da),fa=i.getElementDimensions(da);return {y:ea.y+fa.width/2,x:ea.x+fa.height/2};}var ca={init:function(da){n(v,da);y=t.controllerID=v.element.id;t.nodeURL=v.href;w=k.find(v.element,'.pluginSendActive');x=k.find(v.element,'.pluginSendInactive');v.element.onclick=aa;g.subscribe(q,function(ea,fa){if(fa.controllerID===y)aa('hide');},g.SUBSCRIBE_NEW);g.subscribe(p,function(ea,fa){if(fa.controllerID===y)aa('close');},g.SUBSCRIBE_NEW);if(da.autosubmit)aa('open');}};a.Arbiter=g;e.exports=ca;});
__d("PluginXDReady",["Arbiter","UnverifiedXD"],function(a,b,c,d,e,f){var g=b('Arbiter'),h=b('UnverifiedXD'),i={handleMessage:function(j){if(!j.method)return;try{g.inform('Connect.Unsafe.'+j.method,JSON.parse(j.params),g.BEHAVIOR_PERSISTENT);}catch(k){}}};a.XdArbiter=i;h.send({xd_action:'plugin_ready',name:window.name});e.exports=null;});